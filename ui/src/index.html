<html>
  <head>
    <meta charset="UTF-8">
    <title>Main</title>
    <style>
      @import url(http://fonts.googleapis.com/css?family=Source+Sans+Pro);
      html, head, body {
        margin: 0;
        height: 100%;
      }
      html {
          box-sizing: border-box;
      }
      *, *:before, *:after {
          box-sizing: inherit;
      }
    </style>
  </head>

  <body>
    <div style="width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; color: #9A9A9A; font-family: &#39;Source Sans Pro&#39;;">
      <div style="font-size: 3em;">Building your project!</div>
      <img src="/_reactor/waiting.gif">
      <div style="font-size: 1em">With new projects, I need a bunch of extra time to download packages.</div>
    </div>
  </body>

  <script type="text/javascript" src="/_compile/src/Main.elm"></script>

  <script type="text/javascript">
    while (document.body.firstChild) {
      document.body.removeChild(document.body.firstChild);
    }

    try {
      var app = Elm.Main.fullscreen();

      app.ports.getPicture.subscribe(function(picture) {
        var reader = new FileReader();
        reader.readAsDataURL(picture);
        reader.onloadend = function() {
          app.ports.updatePicture.send(reader.result);
        };
      });
    } catch {
      runElmProgram()
    }
  </script>
</html>
